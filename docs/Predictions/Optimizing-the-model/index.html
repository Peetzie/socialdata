<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Predictions/Optimizing-the-model">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/socialdata/blog/rss.xml" title="Fastfood and health in the United States of America RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/socialdata/blog/atom.xml" title="Fastfood and health in the United States of America Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Improving the model | Fastfood and health in the United States of America</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/socialdata/docs/Predictions/Optimizing-the-model"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Improving the model | Fastfood and health in the United States of America"><meta data-rh="true" name="description" content="To improve the model from a simple Decisiontreeclassifier, we opted for a solution with a Randomforrestclassifier which is basicly just multiple Decisiontreeclassifiers, where each of them has a vote and then the majority wins for a specific classification."><meta data-rh="true" property="og:description" content="To improve the model from a simple Decisiontreeclassifier, we opted for a solution with a Randomforrestclassifier which is basicly just multiple Decisiontreeclassifiers, where each of them has a vote and then the majority wins for a specific classification."><link data-rh="true" rel="icon" href="/socialdata/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/socialdata/docs/Predictions/Optimizing-the-model"><link data-rh="true" rel="alternate" href="https://github.com/socialdata/docs/Predictions/Optimizing-the-model" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/socialdata/docs/Predictions/Optimizing-the-model" hreflang="x-default"><link rel="stylesheet" href="/socialdata/assets/css/styles.eb357acb.css">
<link rel="preload" href="/socialdata/assets/js/runtime~main.73455702.js" as="script">
<link rel="preload" href="/socialdata/assets/js/main.0c6286e5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/socialdata/"><div class="navbar__logo"><img src="/socialdata/img/favicon.ico" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/socialdata/img/favicon.ico" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">Overview</b></a><a class="navbar__item navbar__link navbar__link--active" href="/socialdata/docs/intro">Story line</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Peetzie/socialdata" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/socialdata/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/socialdata/docs/Basic-Statstics/Understanding the data">Data foundations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/socialdata/docs/Locations/Restaurant_locations">Data Locations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/socialdata/docs/Predictions/predict">Prediction on unhealthy behavoiur</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/socialdata/docs/Predictions/predict">Predicting Obesity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/socialdata/docs/Predictions/Optimizing-the-model">Improving the model</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/socialdata/docs/Sources">Sources</a></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/socialdata/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Prediction on unhealthy behavoiur</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Improving the model</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Improving the model</h1><p>To improve the model from a simple <code>Decisiontreeclassifier</code>, we opted for a solution with a <code>Randomforrestclassifier</code> which is basicly just multiple <code>Decisiontreeclassifiers</code>, where each of them has a vote and then the majority wins for a specific classification. </p><p>With the basic <code>Randomforrestclassifier</code>we obtained far better results.</p><p><a target="_blank" href="/socialdata/assets/files/confusionMatrix_RF-193b4d9d85f70c3362f73b1e01fa3946.png"> <img loading="lazy" src="/socialdata/assets/images/confusionMatrix_RF-193b4d9d85f70c3362f73b1e01fa3946.png" width="864" height="648" class="img_E7b_"> </a></p><p>Comparing the two <em>Confusion matrices</em> the true postive rate has gone from 211 to 262, likewise the false positive has been reduced from 90 to around 68.
As for the true negatives it reduced by a small bit from 119 to 114, however that is the cost of having correctly classified far more.
Likewise the False negative was reduced from 80 to 56. </p><p>With the different results from the confusion matrix we now obtained the following: </p><ul><li>Accuracy of the model: 0.752</li><li>Precision of the model: 0.793939393939394</li><li>recall of the model: 0.8238993710691824</li><li>F1-score of the model: 0.808641975308642</li></ul><p>With an increase in both the precision and recall we are actually happy.
Ofcourse it is better to get it right more times whether or not a county is obesed. But likewise with an increased recall we ensure that we get the most counties that can be considered obesed based on features, and thus are able to account for based on said features to improve public health in that county! </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="further-improving-the-model">Further improving the model<a class="hash-link" href="#further-improving-the-model" title="Direct link to heading">â€‹</a></h3><p>The <code>Randomforrestclassifier</code> uses different <em>Hyperparameters</em> that can be tuned in order to improve the overall accuracy of the model.
By performing <code>RandomSearchCV</code>to first establish how the hyperparameters act on the model and then <code>GridSearchCV</code>to find different parameters for the said model in an interval we were able to further improve the model accuracy.
With the new <em>hyperparameters</em> we arrive with the following confusion matrix and measurements</p><p><a target="_blank" href="/socialdata/assets/files/confusionMatrix_Tuned-6be5707921002e7efad20b6e964dab4f.png"> <img loading="lazy" src="/socialdata/assets/images/confusionMatrix_Tuned-6be5707921002e7efad20b6e964dab4f.png" width="864" height="648" class="img_E7b_"> </a></p><ul><li>Accuracy of the model: 0.74</li><li>Precision of the model: 0.7701149425287356</li><li>recall of the model: 0.8427672955974843</li><li>F1-score of the model: 0.8048048048048047</li></ul><p>Based upon the measurements above we arrive with a model with less <code>accuray</code>, <code>Precison</code>. However an increase in the <code>Recall</code>and almost the same  <code>F1-score</code>.</p><p>Based on that and the confusion matrix numbers we see a model that identifies more true positives, but at the cost of more false positives and thus the increased <code>Recall</code>. Likewise we see a minor decrease in true negatives, but a reduction in false negaitves. As this doesn&#x27;t classify whether one individual has a disease or is life critical for one individual, but rather identifies whether or not a county is more vulnerable of obesity or not it is a good thing to identify to many to try to prohibit this prediction.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/socialdata/docs/Predictions/predict"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Predicting Obesity</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/socialdata/docs/Sources"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sources</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#further-improving-the-model" class="table-of-contents__link toc-highlight">Further improving the model</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Peetzie/socialdata" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2022 Social Data and Visualisations,  Built with Docusaurus.</div></div></div></footer></div>
<script src="/socialdata/assets/js/runtime~main.73455702.js"></script>
<script src="/socialdata/assets/js/main.0c6286e5.js"></script>
</body>
</html>