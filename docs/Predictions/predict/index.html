<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Predictions/predict">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/socialdata/blog/rss.xml" title="Fastfood and health in the United States of America RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/socialdata/blog/atom.xml" title="Fastfood and health in the United States of America Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Predicting Obesity | Fastfood and health in the United States of America</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/socialdata/docs/Predictions/predict"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Predicting Obesity | Fastfood and health in the United States of America"><meta data-rh="true" name="description" content="To get a sense of correlation or consistency in the data, we choose to see if we could predict wether or not 1/3 of the adults in a state were obese or not. We choose 1/3 since the median of the obesity column was 34 % (health[&#x27;adultobesity% Adults with Obesity&#x27;].median() = 34), leaving us with a dataset somewhat split into two. The new column from this criteria, denounced is_obese, consisting of booleans can now be used as a response variable and the obesity column omitted. The prediction we did was a simple Decisiontreeclassifier to quickly try and get a prediction and therefore a possible tendency in the data. Firstly the correlation heatmap is computed to check for any surprising correlations in the data:"><meta data-rh="true" property="og:description" content="To get a sense of correlation or consistency in the data, we choose to see if we could predict wether or not 1/3 of the adults in a state were obese or not. We choose 1/3 since the median of the obesity column was 34 % (health[&#x27;adultobesity% Adults with Obesity&#x27;].median() = 34), leaving us with a dataset somewhat split into two. The new column from this criteria, denounced is_obese, consisting of booleans can now be used as a response variable and the obesity column omitted. The prediction we did was a simple Decisiontreeclassifier to quickly try and get a prediction and therefore a possible tendency in the data. Firstly the correlation heatmap is computed to check for any surprising correlations in the data:"><link data-rh="true" rel="icon" href="/socialdata/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/socialdata/docs/Predictions/predict"><link data-rh="true" rel="alternate" href="https://github.com/socialdata/docs/Predictions/predict" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/socialdata/docs/Predictions/predict" hreflang="x-default"><link rel="stylesheet" href="/socialdata/assets/css/styles.729819f9.css">
<link rel="preload" href="/socialdata/assets/js/runtime~main.55c06991.js" as="script">
<link rel="preload" href="/socialdata/assets/js/main.65fd032b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/socialdata/"><div class="navbar__logo"><img src="/socialdata/img/favicon.ico" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/socialdata/img/favicon.ico" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">Overview</b></a><a class="navbar__item navbar__link navbar__link--active" href="/socialdata/docs/intro">Story line</a><a href="https://nbviewer.org/github/Peetzie/SocialData_InteractiveMaps/blob/main/notebook.ipbynb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Explainer Notebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Peetzie/socialdata" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/socialdata/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/socialdata/docs/exploring_the_data/Restaurant_locations">Data Exploration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/socialdata/docs/Predictions/predict">Predicting obesity based on unhealthy behavior</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/socialdata/docs/Predictions/predict">Predicting Obesity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/socialdata/docs/Predictions/Optimizing-the-model">Improving the model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/socialdata/docs/Predictions/model_evaluation">Model evaluation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/socialdata/docs/Discussion/Discussiontxt">Thoughts on the project</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/socialdata/docs/Sources">Sources</a></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/socialdata/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Predicting obesity based on unhealthy behavior</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Predicting Obesity</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><h1>Predicting Obesity</h1><p>To get a sense of correlation or consistency in the data, we choose to see if we could predict wether or not 1/3 of the adults in a state were obese or not. We choose 1/3 since the median of the obesity column was 34 % (<code>health[&#x27;adult_obesity_% Adults with Obesity&#x27;].median() = 34</code>), leaving us with a dataset somewhat split into two. The new column from this criteria, denounced <code>is_obese</code>, consisting of booleans can now be used as a response variable and the obesity column omitted. The prediction we did was a simple <code>Decisiontreeclassifier</code> to quickly try and get a prediction and therefore a possible tendency in the data. Firstly the correlation heatmap is computed to check for any surprising correlations in the data:</p><p><strong> Correlation image </strong>
<a target="_blank" href="/socialdata/assets/files/corrHeat-5f089cd062cc8fc7f06e8a994d14777c.png"> <img loading="lazy" src="/socialdata/assets/images/corrHeat-5f089cd062cc8fc7f06e8a994d14777c.png" width="4235" height="3686" class="img_E7b_"> </a></p><p>The correlation heatmap gives some information about what features are correlated. The highest correlation around 0.9 is found between <code>poor_physical_health_days</code> and <code>poor_mental_health_days</code>. These features are self surveyed from citizens, which means that people could tend to say that a poor physical health day is also a poor mental health day. It seems that the numbers correlate at least.
Another high correlating factor is <code>smoking</code> together with <code>Potential_Life_Lost_Rate</code> aswell as the two previous features, <code>poor_physical_health_days</code> and <code>poor_mental_health_days</code>. It seems that in counties where a great percentage of the adult population smoke, they also seem to lose potential years of life aswell as their amount of poor mental and physical health days increase. <code>smoking</code> could seem to be a great indicator of the unhealthy counties. Furthermore the <code>per_gop</code> attribute is a measure of percentage republican in the respective counties, having a percentage measure for democrates could have been included but would be <code>per_dem</code>=1-<code>per_gop</code> and therefore trivially highly correlated with the percentage measure for republicans. It could have been an interesting to look into voting percentages in general, and see if that could be correlated to obesity in some way, e.g. in implying if (dis)trust in the government has an influence. </p><p><strong> Test data and initial results </strong></p><p>Since the model needs some training and test data, we decided to split our test set to be 3 states (this gives us some nicer plots instead of spread out counties across the US). We choose a west-coast (Oregon), midderteranin (Oklahoma) and east-coast (Pennsylvania) state, to see if the prediction differs accros the US. </p><p>The confusion matrix was computed as seen below.</p><p><a target="_blank" href="/socialdata/assets/files/confusionMatrix-530f16ccc75c551f8fa62f89a7443f91.png"> <img loading="lazy" src="/socialdata/assets/images/confusionMatrix-530f16ccc75c551f8fa62f89a7443f91.png" width="864" height="648" class="img_E7b_"> </a></p><p>With the different results from the confusion matrix:</p><ul><li>Accuracy of the model: 0.5988372093023255</li><li>Precision of the model: 0.7721518987341772</li><li>recall of the model: 0.5446428571428571</li><li>F1-score of the model: 0.6387434554973822</li></ul><p>This gives us an idea that predicting obesity is not a total lost cause, as there seem to be some underlying patteren to what makes a county obese. Now let&#x27;s see if the model can be improved.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/socialdata/docs/exploring_the_data/Income_US"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">The relation of income 💲 and obesity</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/socialdata/docs/Predictions/Optimizing-the-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Improving the model</div></a></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Peetzie/socialdata" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://peetzie.github.io/SocialData_InteractiveMaps/About%20us.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">About us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://nbviewer.org/github/Peetzie/SocialData_InteractiveMaps/blob/main/notebook.ipbynb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Explainer Notebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2022 Social Data and Visualisations,  Built with Docusaurus.</div></div></div></footer></div>
<script src="/socialdata/assets/js/runtime~main.55c06991.js"></script>
<script src="/socialdata/assets/js/main.65fd032b.js"></script>
</body>
</html>